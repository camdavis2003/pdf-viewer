<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>Adobe PDF Embed Viewer (File Upload)</title>
  <script src="https://documentcloud.adobe.com/view-sdk/main.js"></script>
  <style>
    html, body {
      margin: 0;
      height: 100%;
      width: 100%;
    }
    #adobe-dc-view {
      width: 100%;
      height: 90vh;  /* leave space for upload button */
    }
    #upload-button {
      display: block;
      width: 100%;
      padding: 10px;
      background: #444;
      color: #fff;
      text-align: center;
      cursor: pointer;
      font-size: 16px;
    }
  </style>
</head>
<body>

  <div id="upload-button">Click here to select a PDF file</div>
  <div id="adobe-dc-view"></div>

  <script>
    document.getElementById('upload-button').addEventListener('click', function () {
      const input = document.createElement('input');
      input.type = 'file';
      input.accept = 'application/pdf';
      input.click();

      input.addEventListener('change', function (event) {
        const file = event.target.files[0];
        if (!file) return;

        const reader = new FileReader();
        reader.onload = function () {
          const base64PDF = reader.result.split(',')[1];

          const adobeDCView = new AdobeDC.View({
            clientId: "f0402981675149bb893bd5b63b9a412c",  // your API key
            divId: "adobe-dc-view"
          });

          adobeDCView.previewFile({
            content: { promise: Promise.resolve(base64PDF) },
            metaData: { fileName: file.name }
          }, {
            embedMode: "FULL_WINDOW",
            showDownloadPDF: false,
            showPrintPDF: false,
            showAnnotationTools: false,
            showLeftHandPanel: false,
            defaultViewMode: "FIT_WIDTH"
          });
        };

        reader.readAsDataURL(file);
      });
    });
  </script>

</body>
</html>
